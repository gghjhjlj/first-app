import streamlit as st

st.set_page_config(page_title="세계 국가 정보 비교", layout="wide")

st.title("🌍 전 세계 국가 비교 웹앱")
st.write("국가별 수도, 인구, 면적, 인구밀도 및 환율·범죄율·관광명소 정보를 제공합니다.")

# 예제 데이터 (샘플 국가만 포함)
countries = [
    {
        "국가": "대한민국",
        "수도": "서울",
        "인구(명)": 51780000,
        "면적(㎢)": 100210,
        "환율(1USD)": "약 1300 KRW",
        "범죄율": "낮음",
        "명소": ["경복궁", "부산 해운대", "제주도"]
    },
    {
        "국가": "일본",
        "수도": "도쿄",
        "인구(명)": 125800000,
        "면적(㎢)": 377975,
        "환율(1USD)": "약 155 JPY",
        "범죄율": "낮음",
        "명소": ["후지산", "도쿄 디즈니랜드", "오사카성"]
    },
    {
        "국가": "프랑스",
        "수도": "파리",
        "인구(명)": 68000000,
        "면적(㎢)": 551695,
        "환율(1USD)": "약 0.92 EUR",
        "범죄율": "중간",
        "명소": ["에펠탑", "루브르 박물관", "니스 해변"]
    },
    {
        "국가": "미국",
        "수도": "워싱턴 D.C.",
        "인구(명)": 331000000,
        "면적(㎢)": 9833517,
        "환율(1USD)": "1 USD (기준 통화)",
        "범죄율": "높음",
        "명소": ["그랜드 캐니언", "자유의 여신상", "옐로우스톤"]
    },
    {
        "국가": "호주",
        "수도": "캔버라",
        "인구(명)": 25690000,
        "면적(㎢)": 7692024,
        "환율(1USD)": "약 1.5 AUD",
        "범죄율": "중간",
        "명소": ["그레이트 배리어 리프", "시드니 오페라하우스", "울룰루"]
    }
]

# 인구밀도 추가 계산
for c in countries:
    c["인구밀도(명/㎢)"] = round(c["인구(명)"] / c["면적(㎢)"], 2)

# 표 형태로 보여주기
st.subheader("🌏 국가별 인구, 면적, 인구밀도 비교표")
st.dataframe(
    {
        "국가": [c["국가"] for c in countries],
        "수도": [c["수도"] for c in countries],
        "인구(명)": [c["인구(명)"] for c in countries],
        "면적(㎢)": [c["면적(㎢)"] for c in countries],
        "인구밀도(명/㎢)": [c["인구밀도(명/㎢)"] for c in countries]
    },
    use_container_width=True
)

# 상세 정보 선택
st.subheader("🔍 국가 상세 정보")
selected_country = st.selectbox("국가를 선택하세요:", [c["국가"] for c in countries])

# 선택된 국가 정보 표시
for c in countries:
    if c["국가"] == selected_country:
        st.markdown(f"### {c['국가']} 🇺🇳")
        st.write(f"**수도:** {c['수도']}")
        st.write(f"**환율 (1 USD 기준):** {c['환율(1USD)']}")
        st.write(f"**범죄율:** {c['범죄율']}")
        st.write("**여행 명소:**")
        for place in c["명소"]:
            st.markdown(f"- {place}")
        break
